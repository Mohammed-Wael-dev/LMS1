# حل مشكلة قاعدة البيانات

## المشكلة
كلمة مرور PostgreSQL في ملف `.env` غير صحيحة أو لا تطابق كلمة المرور الفعلية لـ PostgreSQL على جهازك.

## الحل السريع

### الطريقة 1: استخدام السكريبت التلقائي

شغّل هذا الأمر في PowerShell:

```powershell
.\fix-database.ps1
```

السكريبت سيسألك عن كلمة مرور PostgreSQL وسيقوم بتحديث ملف `.env` تلقائياً.

### الطريقة 2: التعديل اليدوي

1. افتح ملف `.env` في مجلد المشروع
2. ابحث عن السطر:
   ```
   POSTGRES_PASSWORD=postgres
   ```
3. غيّر `postgres` إلى كلمة المرور الفعلية لـ PostgreSQL على جهازك
4. احفظ الملف

### الطريقة 3: إنشاء قاعدة البيانات يدوياً

إذا لم تكن قاعدة البيانات موجودة، افتح PostgreSQL واكتب:

```sql
CREATE DATABASE lms_db;
```

## بعد الإصلاح

بعد تحديث كلمة المرور، شغّل:

```powershell
# تفعيل البيئة الافتراضية
.\venv\Scripts\Activate.ps1

# تشغيل المايجريشن
python manage.py migrate_schemas

# تشغيل السيرفر
python manage.py runserver
```

## التحقق من PostgreSQL

للتأكد من أن PostgreSQL يعمل:

```powershell
# التحقق من الإصدار
psql --version

# محاولة الاتصال
psql -U postgres
```

إذا لم يعمل، تأكد من:
1. PostgreSQL مثبت على جهازك
2. خدمة PostgreSQL تعمل (يمكنك التحقق من Services في Windows)
3. كلمة المرور صحيحة

